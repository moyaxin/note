## 2.桥接模式

### 1.基本介绍

> 桥接模式(Bridge模式)是指:将实现与抽象放在两个不同的类层次中，使两个层次可以独立改变。是一种结构型设计模式
> Bridge模式基于类的最小设计原则，通过使用封装、聚合及继承等行为让不同的类承担不同的职责。它的主要
> 特点是把抽象(Abstraction)与行为实现(Implementation)分离开来,从而可以保持各部分的独立性以及应对他们的功能扩展

### 2.案例：

现在对不同手机类型的不同品牌实现操作编程(比如:开机、关机、上网，打电话等

接口brand，其下的huawei和redmi是具体的实现类

抽象类phone聚合了brand了，并有具体的子类继承去实现不同的功能

然后clinet在调用的时候，直接new一个具体的Phone，然后内部给一个具体的品牌，实现桥接。

如果新增了品牌或者功能直接增加一个实现或继承对应的接口或类，不必更改代码

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202208020926498.png" alt="image-20220802092628459" style="zoom:33%;" />

```
public interface Brand {
    void open();
    void close();
    void call();
}

public class Redmi implements Brand{
    public void open() {
        System.out.println(" 小米手机开机 ");

    }

    public void close() {
        System.out.println(" 小米手机关机 ");

    }

    public void call() {
        System.out.println(" 小米手机打电话 ");

    }
}
public class Huawei implements Brand{
    public void open() {
        System.out.println(" 华为手机开机 ");

    }

    public void close() {
        System.out.println(" 华为手机关机 ");

    }

    public void call() {
        System.out.println(" 华为手机打电话 ");

    }
}

public abstract class Phone {
    private Brand brand;

    public Phone(Brand brand) {
        super();
        this.brand = brand;
    }
    protected void open() {
        this.brand.open();
    }
    protected void close() {
        brand.close();
    }
    protected void call() {
        brand.call();
    }
}

public class CurvedPhone extends Phone{
    public CurvedPhone(Brand brand) {
        super(brand);
    }

    public void open() {
        super.open();
        System.out.println(" 曲面屏手机 ");
    }

    public void close() {
        super.close();
        System.out.println(" 曲面屏手机 ");
    }

    public void call() {
        super.call();
        System.out.println(" 曲面屏手机 ");
    }
}
public class OverPhone extends Phone{
    public OverPhone(Brand brand) {
        super(brand);
    }

    public void open() {
        super.open();
        System.out.println(" 全面屏手机 ");
    }

    public void close() {
        super.close();
        System.out.println(" 全面屏手机 ");
    }

    public void call() {
        super.call();
        System.out.println(" 全面屏手机 ");
    }
}

public class Client {
    public static void main(String[] args) {
        Phone curvedPhone = new CurvedPhone(new Huawei());
        curvedPhone.call();

        System.out.println("---------------");
        Phone overPhone = new OverPhone(new Redmi());
        overPhone.open();
    }
}
```



### 3.桥接模式在JDBC的源码剖析

>  Jdbc 的Driver接口，如果从桥接模式来看，Driver就是一一个接口，下面可以有MySQL的Driver， Oracle的Driver，这些就可以当做实现接口类

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202208021054448.png" alt="image-20220802105447001" style="zoom:33%;" />

### 4.桥接模式的注意事项和细节
1)实现了抽象和实现部分的分离，从而极大的提供了系统的灵活性，让抽象部分和实现部分独立开来，这有助于
系统进行分层设计，从而产生更好的结构化系统。
2)对于系统的高层部分，只需要知道抽象部分和实现部分的接口就可以了，其它的部分由具体业务来完成。
3)桥接模式替代多层继承方案，可以减少子类的个数，降低系统的管理和维护成本。

4)桥接模式的引入增 加了系统的理解和设计难度，由于聚合关联关系建立在抽象层，要求开发者针对抽象进行设计和编程
5)桥接模式要求正确识别出系统中两个独立变化的维度(抽象、和实现)，因此其使用范围有一定的局限性，即需要有这样的应用场景。

**常见的应用场景:**

1) JDBC驱动程序
2) 银行转账系统
   转账分类:网上转账，柜台转账，AMT 转账
   转账用户类型:普通用户，银卡用户，金卡用户..
3) 消息管理
   消息类型:即时消息，延时消息
   消息分类:手机短信，邮件消息，QQ消息..
