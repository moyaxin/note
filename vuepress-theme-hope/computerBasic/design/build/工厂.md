## 2.工厂模式

1.工厂模式的意义
将实例化对象的代码提取出来，放到一个类中统一管理和维护，达到和主项目的依赖关系的解耦。从而提高项
目的扩展和维护性。
2.三种工厂 模式(简单工厂模式、工厂方法模式、抽象工厂模式)
3.设计模式的依赖抽象原则

- 创建对 象实例时，不要直接new类,而是把这个new类的动作放在一个工厂的方法中，并返回。有的书上说，
  变量不要直接持有具体类的引用。
- 不要让类继承具体类，而是继承抽象类或者是实现interface(接口)
- 不要覆盖基类中已经实现的方法。

### 1.简单工厂

简单工厂模式是属于创建型模式，它把实例化的操作单独放到一个类中，这个类就成为简单工厂类，让简单工厂类来决定应该用哪个具体子类来实例化，这样做能把客户类和具体子类的实现解耦，客户类不再需要知道有哪些子类以及应当实例化哪个子类。

简单工厂模式:定义了一个创建对象的类，由这个类来封装实例化对象的行为(代码)

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202207312050466.png" alt="image-20220731122248568" style="zoom:25%;" />

### 2.工厂方法



1)工厂方法模式设计方案:将披萨项目的实例化功能抽象成抽象方法，在不同的口味点餐子类中具体实现。
2)工厂方法模式:定义了-一个创建对象的抽象方法，由子类决定要实例化的类，把实例化操作推迟到子类

披萨项目新的需求:客户在点披萨时,可以点不同口味的披萨，比如北京的奶酪pizza、 北京的胡椒pizza或是伦敦的奶酪pizza、 伦敦的胡椒pizza

<img src="https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202207312050532.png" alt="image-20220731123520803" style="zoom:25%;" />

### 3.抽象工厂

定义:抽象工厂模式提供了一个创建一系列相关或者相互依赖对象的接口， 无需指定它们具体的类

> - 抽象工厂模式:定义了一个interface用于创建相关或有依赖关系的对象簇，而无需指明具体的类
> - 抽象工厂模式可以将简单工厂模式和工厂方法模式进行整合。
> - 从设计层面看，抽象工厂模式就是对简单工厂模式的改进(或者称为进一 步的抽象)。
> - 将工厂抽象成两层，AbsFactory(抽象工厂)和具体实现的工厂子类。程序员可以根据创建对象类型使用对应的工厂子类。这样将单个的简单工厂类变成了工厂簇，更利于代码的维护和扩展。

适用场景:

客户端(应用层)不依赖于产品类实例如何被创建、实现等细节
强调一-系列相关的产品对象(属于同-产品族)-起使用创建对象需要大量的重复代码
提供一个产品类的库,所有的产品以同样的接口出现，从而使得客户端不依赖于具体的实现

优点:

具体产品在应用层的代码隔离，无需关心创建的细节
将一个系列的产品统一到一起创建

缺点:

规定了所有可能被创建的产品集合,产品簇中扩展新的产品困难;
增加了系统的抽象性和理解难度



案例：

![image-20220731115432207](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202207312050125.png)

有两个产品：蛋糕cake和披萨pizza（接口）
然后有两个店：上海和北京店负责具体的生产

现在有一个抽象工厂可以生产cake和pizza

然后北京和上海两个工厂继承这个抽象工厂，其主要是用店来具体生产

而客户端只要调用这两个子工厂即可实现生产工厂

### 4. 工厂模式在JDK-Calendar 应用的源码分析

```
Calendar calendar=Calendar.getInstance();
```

![image-20220731135102063](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/2025/202207312050415.png)
